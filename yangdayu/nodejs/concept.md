#### 单线程

> 不为每个客户连接创建一个新的线程，而仅仅使用一个线程，当有用户连接了，就触发一个内部事件，通过非阻塞I/O、事件驱动机制，让node程序宏观上也是并行的，使用Node，一个8GB内存的服务器，可以同时处理超过4万用户的连接。而Java、PHP等服务器端语言中，是为每个客户连接创建一个新的线程，每个线程需要消耗2MB内存，一个8GB的服务器可以同时连接的最大用户是4000个左右。

* 单线程 使操作系统完全不再有线程创建、销毁的时间开销。
* 		但若一个用户造成线程的崩溃，整个服务都崩溃了。

#### 非阻塞I/O

> 当在访问数据库取得数据的时候，需要一定的时间。传统的单线程处理机制是停下来等待数据库返回结果，才能执行后面的代码。（I/O阻塞了代码的执行，极大的降低了程序的执行效率）。
> 而Node采用非阻塞I/O，在执行访问数据库的代码之后，将立即转去执行其后面的代码，把数据库返回结果的处理代码放在回调函数中，当I/O执行完毕时，会以事件的形式通知执行I/O操作的线程执行此回调（因此，需要有事件循环，不断的检查有没有未处理的事件，依次给予处理）
> 非阻塞模式下，一个线程永远在执行计算操作，这个线程的CPU核心利用率永远是100%。

#### 事件环 机制

> 客户端请求建立连接，提交数据等行为，会触发相应的事件。node中，一个时刻，只能执行一个事件回调，但在执行这个事件回调的途中，可以转而去处理其他事件，然后返回继续执行原事件的回调。
> node的底层C++，大部分都用于事件队列、回调函数队列的构建。
> 不管是新用户的请求，还是老用户的I/O完成，都将以事件方式加入事件环，等待调度。当然有优先级排序



